### 1. 运算符重载

#### 1.1 运算符样本
##### stream extractor && inserter

- 必须是两个参数的全局函数；
- ![image-20221206205927149](../../img/test/202212062059217.png)

- ![image-20221206210058528](../../img/test/202212062100557.png)

- return is是为了链式法则；

- Creating manipulators：
- ![image-20221206211328992](../../img/test/202212062113054.png)

##### Automatic operator =

- member wise 和 bit wise 相对；
- ![image-20221206211842272](../../img/test/202212062118306.png)

##### Assignment operator
- 记得要判断是否是自赋值；
- ![image-20221206211936106](../../img/test/202212062119144.png)

- ![image-20221206212037760](../../img/test/202212062120777.png)

- 如果不想赋值不被别人用，可以设置成private或者加=delete；
- ![image-20221206212218491](../../img/test/202212062122509.png)

##### Operator()

- 不是什么重点；

- ![image-20221212190711627](../../img/test/202212121907707.png)

#### 1.2 Value classes（值类）

- ![image-20221212190914710](../../img/test/202212121909740.png)

#### 1.3 User-defined type conversions

- ![image-20221212191030882](../../img/test/202212121910903.png)

- 当有单个参数的构造函数时，编译器可以自动地进行隐式类型转换；要是不想隐式类型转换，可以在构造函数前面加 explicit；![image-20221212191410209](../../img/test/202212121914234.png)![image-20221212191727688](../../img/test/202212121917720.png)

##### Conversion operations
![image-20221212192145071](../../img/test/202212121921097.png)

##### General form of conversion ops

- 前面没有return类型，后面没有参数；
- ![image-20221212192600589](../../img/test/202212121926625.png)

##### C++ type conversions

- ![image-20221212192739131](../../img/test/202212121927161.png)

- 以下两者不能同时存在；![image-20221212192807305](../../img/test/202212121928332.png)

##### Do you want to use them？

- ![image-20221212193600900](../../img/test/202212121936939.png)

##### some rules

- 调用函数时，先找完全一样的，再找系统自动转化，再找用户定义的转化；![image-20221212193928115](../../img/test/202212121939146.png)

#### 1.4 Casting operators

![image-20221212194153252](../../img/test/202212121941279.png)

##### static_cast

- ![image-20221212194301776](../../img/test/202212121943805.png)

- ![image-20221212194549674](../../img/test/202212121945706.png)

##### dynamic_cast

- ![image-20221212194924633](../../img/test/202212121949675.png)

##### const_cast

- 把常量指针或者引用便成非常量指针或者应用；![image-20221212195006385](../../img/test/202212121950408.png)

##### reinterpere_cast

- ![image-20221212195222526](../../img/test/202212121952557.png)

### 2. Streams

![image-20221212200628634](../../img/test/202212122006716.png)

![image-20221212200855526](../../img/test/202212122008560.png)

![image-20221212200911527](../../img/test/202212122009550.png)

![image-20221212200936724](../../img/test/202212122009751.png)

Manipulator可以改变流的状态，比如控制流的输入输出形式；

![image-20221212201123300](../../img/test/202212122011331.png)

cin和cout有缓冲；

cerr与clog的区别，两者都是标准错误流，**区别在于cerr不经过缓冲区，直接向显示器输出信息，而clog中的信息存放在缓冲区，缓冲区满或者遇到endl时才输出。**

![image-20221212201156780](../../img/test/202212122011807.png)

![image-20221212201538358](../../img/test/202212122015442.png)

![image-20221212201619511](../../img/test/202212122016552.png)

![image-20221212201704377](../../img/test/202212122017416.png)

![image-20221212201720819](../../img/test/202212122017849.png)

get会在\n之前停下来，而getline是直接吃掉\n。

![image-20221212201833691](../../img/test/202212122018738.png)

![image-20221212204458543](../../img/test/202212122044636.png)

![image-20221212204517562](../../img/test/202212122045601.png)

![image-20221212204527736](../../img/test/202212122045775.png)

![image-20221212204540204](../../img/test/202212122045235.png)

![image-20221212204636161](../../img/test/202212122046201.png)

![image-20221212204701634](../../img/test/202212122047668.png)

![image-20221212204726447](../../img/test/202212122047485.png)

![image-20221212204753914](../../img/test/202212122047972.png)

![image-20221212204833581](../../img/test/202212122048616.png)

![image-20221212204903584](../../img/test/202212122049620.png)
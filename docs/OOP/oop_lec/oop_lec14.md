```toc
```
### 1. Exception

（考试还是很会考的，虽然比较“简单”）

抛出异常之后，就算异常会被处理，这个异常也不会被执行！

但是try这个模块之外的是可以运行的，比如以下情况，After try catch block是可以被输出的；

![image-20221229224948873](../../img/test/202212292249905.png)

#### 1.1 Exception and new

![image-20221229223017960](../../img/test/202212292230029.png)

#### 1.2 Design considerations

![image-20221229223217147](../../img/test/202212292232180.png)

![image-20221229223245245](../../img/test/202212292232268.png)

#### 1.3 Summery

最好用reference来接异常；

![image-20221229223410430](../../img/test/202212292234455.png)

#### 1.4 两阶段的构造函数

第一个阶段的构造函数做的事情保证不会发生任何异常，把会发生异常的部分都挪到第二部分，这样就算第二部分的构造函数发生了异常，也能正常调用析构函数。

### 2. Smart Pointers（智能指针）

#### 2.1 Goals

![image-20221229225323251](../../img/test/202212292253296.png)

![image-20221229225600971](../../img/test/202212292256007.png)

**下面这张图的关系是最主要的！**

![image-20221229232539573](../../img/test/202212292325601.png)

#### 2.2 UCObject

![image-20221229225924534](../../img/test/202212292259563.png)

如果没有任何人来引用自己，那就自己把自己给删了；

如果delete this之后还有代码，只要不涉及对象本身（因为对象本身已经被析构掉了），还是会继续做完的；

![image-20221229225936616](../../img/test/202212292259634.png)

#### 2.3 UCPointer

![image-20221229230239496](../../img/test/202212292302528.png)

![image-20221229230454484](../../img/test/202212292304523.png)

![image-20221229230540518](../../img/test/202212292305548.png)

题外话：哪些操作符可以被重载，也是会常常被拿来考的；

![image-20221229230636632](../../img/test/202212292306664.png)

#### 2.4 String

string就是一个总的对外的接口；

![image-20221229231521218](../../img/test/202212292315253.png)

![image-20221229232134684](../../img/test/202212292321718.png)

![image-20221229232438322](../../img/test/202212292324360.png)

#### 2.5 StringRep

这是UCObject的子类；

![image-20221229231718925](../../img/test/202212292317955.png)

![image-20221229231736919](../../img/test/202212292317947.png)

![image-20221229231804694](../../img/test/202212292318719.png)

#### 2.6 总结

![image-20221229232644883](../../img/test/202212292326918.png)

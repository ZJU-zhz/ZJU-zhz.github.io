```toc
```
### 1. Copy ctor
#### 1.1 函数返回的拷贝构造
- 如果不优化的话会拷贝两次：
  - 第一次是发生在return的地方，把本地的对象拷贝到预留的空间里；
  - 第二次把预留空间里的对象拷贝到你要承接的main函数中的本地变量中；

### 2. 运算符重载

#### 2.1 运算符

- 可以重载的运算符![image-20221205171028658](../../img/test/202212051710718.png)
- 不能重载的运算符![image-20221205171102079](../../img/test/202212051711102.png)

#### 2.2 要求与限制

- ![image-20221205171141808](../../img/test/202212051711836.png)

#### 2.3 写法

- ![image-20221206130138588](../../img/test/202212061301671.png)

##### member function

- ![image-20221206131958996](../../img/test/202212061319064.png)
- z = 3 + y 就不行，因为这样就不存在receiver了；

- 双目运算符![image-20221206132328561](../../img/test/202212061323578.png)
- 单目运算符![image-20221206161418351](../../img/test/202212061614408.png)

##### global function

- ![image-20221206155037850](../../img/test/202212061550914.png)

- ![image-20221206161519598](../../img/test/202212061615623.png)

- ![image-20221206161904908](../../img/test/202212061619942.png)

#### 2.4 选择

- 单目运算符成员函数，![image-20221206161948169](../../img/test/202212061619218.png)

- 双目作为非成员（设置为友元函数）；
- ![image-20221206162433278](../../img/test/202212061624314.png)

#### 2.5 一些注意事项

- 如果运算符不会修改运算数，那么传进来的引用是const，作为成员函数也是const；即除了跟赋值相关的，还有两个流运算符，其他都要加const；

- 运算符结果应该返回一个const对象，逻辑运算符则返回bool；

#### 2.6 一些样板

##### 正常的

- ![image-20221206163642114](../../img/test/202212061636142.png)

##### 自增自减

- ![image-20221206163938040](../../img/test/202212061639074.png)

- ![image-20221206163951745](../../img/test/202212061639768.png)

- ![image-20221206164020024](../../img/test/202212061640045.png)

##### 关系运算符

- ![image-20221206165210901](../../img/test/202212061652965.png)

- 互相调用![image-20221206165249832](../../img/test/202212061652860.png)

  ![image-20221206165303837](../../img/test/202212061653856.png)

##### []

- ![image-20221206165345965](../../img/test/202212061653994.png)

- 参数类型不一定是整数，返回值是整数；


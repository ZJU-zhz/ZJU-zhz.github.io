
## MIMD

![MIMD](../img/6.7/MIMD.png)

TLP是基于线程的并行策略，ILP是基于指令的并行策略。其中，线程与指令的关系是：一个线程由一条或者多条指令所构成。从ILP到TLP，线程级并行性是由软件系统或程序员在高层识别的；线程由数百到数百万条可以并行执行的指令组成。从TLP到MIMD架构

TLP表示存在多个程序计数器。因此，TLP技术主要通过MIMD架构来利用。

### 1. MIMD架构分类一

#### 1.1 Shared memory system

![image-20230611203012516](../img/6.7/image-20230611203012516.png)

![image-20230608091447304](../img/6.7/image-20230608091447304.png)

每个CPU等级上没有差别。

![image-20230608091533216](../img/6.7/image-20230608091533216.png)

#### 1.2 Message passing system

![image-20230611203048886](../img/6.7/image-20230611203048886.png)

每个处理器有自己的memory，通过ICN进行消息传递。分布式结构比前者shared memory使用得更多。有自己的私人内存，响应更快。![image-20230608091639396](../img/6.7/image-20230608091639396.png)

![image-20230608091828892](../img/6.7/image-20230608091828892.png)

不是所有的处理器连接在一个ICN上，而是分级的![image-20230608091858862](../img/6.7/image-20230608091858862.png)

### 2. MIMD架构分类二

![image-20230608092053519](../img/6.7/image-20230608092053519.png)

### 2.1 Shared Memory

#### UMA

对称多处理机![image-20230608092245550](../img/6.7/image-20230608092245550.png)

![image-20230608092335109](../img/6.7/image-20230608092335109.png)

#### NUMA

非对称多处理机，每个处理器都有自己的内存。

![image-20230608092413946](../img/6.7/image-20230608092413946.png)

![image-20230608092513266](../img/6.7/image-20230608092513266.png)

![image-20230608092725811](../img/6.7/image-20230608092725811.png)

![image-20230608092816792](../img/6.7/image-20230608092816792.png)

#### COMA

每个处理器都有cache，但是没有memory。所有的memory要通过ICN来进行消息传递。

![image-20230608092922275](../img/6.7/image-20230608092922275.png)

![image-20230608093050565](../img/6.7/image-20230608093050565.png)

### 2.2 Message Passing

#### MPP

MPP，每个节点都是一个独立的机器，但是没有cache等，所以不能脱离集群系统![image-20230608093112278](../img/6.7/image-20230608093112278.png)

![image-20230608093127074](../img/6.7/image-20230608093127074.png)

![image-20230608093133585](../img/6.7/image-20230608093133585.png)

#### COW

COW，每一个节点更加完整，脱离COW后每个节点仍然可以独立运行![image-20230608093157359](../img/6.7/image-20230608093157359.png)

![image-20230608093306350](../img/6.7/image-20230608093306350.png)

![image-20230608093317854](../img/6.7/image-20230608093317854.png)

![image-20230608093331968](../img/6.7/image-20230608093331968.png)

![image-20230608093341225](../img/6.7/image-20230608093341225.png)

![image-20230608093415584](../img/6.7/image-20230608093415584.png)

### 3. 特殊领域架构

![image-20230608093425662](../img/6.7/image-20230608093425662.png)

![image-20230608093530124](../img/6.7/image-20230608093530124.png)

![image-20230608093539475](../img/6.7/image-20230608093539475.png)

![image-20230608093547819](../img/6.7/image-20230608093547819.png)

![image-20230608093624973](../img/6.7/image-20230608093624973.png)